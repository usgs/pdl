<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11) on Fri Nov 20 11:38:31 MST 2020 -->
<title>JsonProductStorage (pdl API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-11-20">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JsonProductStorage (pdl API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">gov.usgs.earthquake.aws</a></div>
<h2 title="Class JsonProductStorage" class="title">Class JsonProductStorage</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../util/DefaultConfigurable.html" title="class in gov.usgs.util">gov.usgs.util.DefaultConfigurable</a></li>
<li>
<ul class="inheritance">
<li><a href="../util/JDBCConnection.html" title="class in gov.usgs.earthquake.util">gov.usgs.earthquake.util.JDBCConnection</a></li>
<li>
<ul class="inheritance">
<li>gov.usgs.earthquake.aws.JsonProductStorage</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../distribution/ProductStorage.html" title="interface in gov.usgs.earthquake.distribution">ProductStorage</a></code>, <code><a href="../../util/Configurable.html" title="interface in gov.usgs.util">Configurable</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">JsonProductStorage</span>
extends <a href="../util/JDBCConnection.html" title="class in gov.usgs.earthquake.util">JDBCConnection</a>
implements <a href="../distribution/ProductStorage.html" title="interface in gov.usgs.earthquake.distribution">ProductStorage</a></pre>
<div class="block">Store Products in a database.

 Note that this storage does not store Product Content, and is intended for
 Products that use URLContent and can be serialized using JsonProduct.

 Only SQLITE or local development should rely on createSchema.
 Products (data column) have exceeded 64kb, plan accordingly.

 Mysql Schema Example:<br>
 <pre>
 CREATE TABLE IF NOT EXISTS indexer_storage
 (id INTEGER PRIMARY KEY AUTO_INCREMENT
 , source VARCHAR(255)
 , type VARCHAR(255)
 , code VARCHAR(255)
 , updatetime BIGINT
 , data LONGTEXT
 , UNIQUE KEY product_index (source, type, code, updatetime)
 ) ENGINE=innodb CHARSET=utf8;
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_DRIVER">DEFAULT_DRIVER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_TABLE">DEFAULT_TABLE</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_URL">DEFAULT_URL</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">JsonProductStorage</a></span>()</code></th>
<td class="colLast">
<div class="block">Create a JsonProductStorage using defaults.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String,java.lang.String)">JsonProductStorage</a></span>&#8203;(java.lang.String&nbsp;driver,
                  java.lang.String&nbsp;url)</code></th>
<td class="colLast">
<div class="block">Create a JsonProductStorage with a default table.</div>
</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String,java.lang.String,java.lang.String)">JsonProductStorage</a></span>&#8203;(java.lang.String&nbsp;driver,
                  java.lang.String&nbsp;url,
                  java.lang.String&nbsp;table)</code></th>
<td class="colLast">
<div class="block">Create a JsonProductStorage with a custom driver, url, and table.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addStorageListener(gov.usgs.earthquake.distribution.StorageListener)">addStorageListener</a></span>&#8203;(<a href="../distribution/StorageListener.html" title="interface in gov.usgs.earthquake.distribution">StorageListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Adds a <code>StorageListener</code> to be notified when a change occurs
 in this <code>ProductStorage</code>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#configure(gov.usgs.util.Config)">configure</a></span>&#8203;(<a href="../../util/Config.html" title="class in gov.usgs.util">Config</a>&nbsp;config)</code></th>
<td class="colLast">
<div class="block">Process configuration settings.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected java.sql.Connection</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#connect()">connect</a></span>()</code></th>
<td class="colLast">
<div class="block">Connect to database.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createSchema()">createSchema</a></span>()</code></th>
<td class="colLast">
<div class="block">Attempt to create schema.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDriver()">getDriver</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../product/Product.html" title="class in gov.usgs.earthquake.product">Product</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getProduct(gov.usgs.earthquake.product.ProductId)">getProduct</a></span>&#8203;(<a href="../product/ProductId.html" title="class in gov.usgs.earthquake.product">ProductId</a>&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get a product from storage.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../product/io/ProductSource.html" title="interface in gov.usgs.earthquake.product.io">ProductSource</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getProductSource(gov.usgs.earthquake.product.ProductId)">getProductSource</a></span>&#8203;(<a href="../product/ProductId.html" title="class in gov.usgs.earthquake.product">ProductId</a>&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get a ProductSource for product in database.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTable()">getTable</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUrl()">getUrl</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hasProduct(gov.usgs.earthquake.product.ProductId)">hasProduct</a></span>&#8203;(<a href="../product/ProductId.html" title="class in gov.usgs.earthquake.product">ProductId</a>&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Check whether product found in storage.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#notifyListeners(gov.usgs.earthquake.distribution.StorageEvent)">notifyListeners</a></span>&#8203;(<a href="../distribution/StorageEvent.html" title="class in gov.usgs.earthquake.distribution">StorageEvent</a>&nbsp;event)</code></th>
<td class="colLast">
<div class="block">Notifies <code>StorageListener</code>s of the change to the
 <code>ProductStorage</code>.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeProduct(gov.usgs.earthquake.product.ProductId)">removeProduct</a></span>&#8203;(<a href="../product/ProductId.html" title="class in gov.usgs.earthquake.product">ProductId</a>&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Remove product from storage.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeStorageListener(gov.usgs.earthquake.distribution.StorageListener)">removeStorageListener</a></span>&#8203;(<a href="../distribution/StorageListener.html" title="interface in gov.usgs.earthquake.distribution">StorageListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Removes a <code>StorageListener</code> from being notified when a change
 occurs in this <code>ProductStorage</code>.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#schemaExists()">schemaExists</a></span>()</code></th>
<td class="colLast">
<div class="block">Check whether schema exists.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setDriver(java.lang.String)">setDriver</a></span>&#8203;(java.lang.String&nbsp;driver)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTable(java.lang.String)">setTable</a></span>&#8203;(java.lang.String&nbsp;table)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setUrl(java.lang.String)">setUrl</a></span>&#8203;(java.lang.String&nbsp;url)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#startup()">startup</a></span>()</code></th>
<td class="colLast">
<div class="block">After normal startup, check whether schema exists and attempt to create.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="../product/ProductId.html" title="class in gov.usgs.earthquake.product">ProductId</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#storeProduct(gov.usgs.earthquake.product.Product)">storeProduct</a></span>&#8203;(<a href="../product/Product.html" title="class in gov.usgs.earthquake.product">Product</a>&nbsp;product)</code></th>
<td class="colLast">
<div class="block">Add product to storage.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="../product/ProductId.html" title="class in gov.usgs.earthquake.product">ProductId</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#storeProductSource(gov.usgs.earthquake.product.io.ProductSource)">storeProductSource</a></span>&#8203;(<a href="../product/io/ProductSource.html" title="interface in gov.usgs.earthquake.product.io">ProductSource</a>&nbsp;input)</code></th>
<td class="colLast">
<div class="block">Store a ProductSource.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.gov.usgs.earthquake.util.JDBCConnection">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;gov.usgs.earthquake.util.<a href="../util/JDBCConnection.html" title="class in gov.usgs.earthquake.util">JDBCConnection</a></h3>
<code><a href="../util/JDBCConnection.html#beginTransaction()">beginTransaction</a>, <a href="../util/JDBCConnection.html#commitTransaction()">commitTransaction</a>, <a href="../util/JDBCConnection.html#getConnection()">getConnection</a>, <a href="../util/JDBCConnection.html#rollbackTransaction()">rollbackTransaction</a>, <a href="../util/JDBCConnection.html#shutdown()">shutdown</a>, <a href="../util/JDBCConnection.html#verifyConnection()">verifyConnection</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.gov.usgs.util.DefaultConfigurable">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;gov.usgs.util.<a href="../../util/DefaultConfigurable.html" title="class in gov.usgs.util">DefaultConfigurable</a></h3>
<code><a href="../../util/DefaultConfigurable.html#getName()">getName</a>, <a href="../../util/DefaultConfigurable.html#setName(java.lang.String)">setName</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.gov.usgs.util.Configurable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;gov.usgs.util.<a href="../../util/Configurable.html" title="interface in gov.usgs.util">Configurable</a></h3>
<code><a href="../../util/Configurable.html#getName()">getName</a>, <a href="../../util/Configurable.html#setName(java.lang.String)">setName</a>, <a href="../../util/Configurable.html#shutdown()">shutdown</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="DEFAULT_DRIVER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_DRIVER</h4>
<pre>public static final&nbsp;java.lang.String DEFAULT_DRIVER</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#gov.usgs.earthquake.aws.JsonProductStorage.DEFAULT_DRIVER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEFAULT_TABLE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_TABLE</h4>
<pre>public static final&nbsp;java.lang.String DEFAULT_TABLE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#gov.usgs.earthquake.aws.JsonProductStorage.DEFAULT_TABLE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEFAULT_URL">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_URL</h4>
<pre>public static final&nbsp;java.lang.String DEFAULT_URL</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#gov.usgs.earthquake.aws.JsonProductStorage.DEFAULT_URL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JsonProductStorage</h4>
<pre>public&nbsp;JsonProductStorage()</pre>
<div class="block">Create a JsonProductStorage using defaults.</div>
</li>
</ul>
<a id="&lt;init&gt;(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JsonProductStorage</h4>
<pre>public&nbsp;JsonProductStorage&#8203;(java.lang.String&nbsp;driver,
                          java.lang.String&nbsp;url)</pre>
<div class="block">Create a JsonProductStorage with a default table.</div>
</li>
</ul>
<a id="&lt;init&gt;(java.lang.String,java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>JsonProductStorage</h4>
<pre>public&nbsp;JsonProductStorage&#8203;(java.lang.String&nbsp;driver,
                          java.lang.String&nbsp;url,
                          java.lang.String&nbsp;table)</pre>
<div class="block">Create a JsonProductStorage with a custom driver, url, and table.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getDriver()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDriver</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getDriver()</pre>
</li>
</ul>
<a id="getTable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTable</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getTable()</pre>
</li>
</ul>
<a id="getUrl()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUrl</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getUrl()</pre>
</li>
</ul>
<a id="setDriver(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDriver</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setDriver&#8203;(java.lang.String&nbsp;driver)</pre>
</li>
</ul>
<a id="setTable(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTable</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setTable&#8203;(java.lang.String&nbsp;table)</pre>
</li>
</ul>
<a id="setUrl(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUrl</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setUrl&#8203;(java.lang.String&nbsp;url)</pre>
</li>
</ul>
<a id="configure(gov.usgs.util.Config)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>configure</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;configure&#8203;(<a href="../../util/Config.html" title="class in gov.usgs.util">Config</a>&nbsp;config)
               throws java.lang.Exception</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../util/DefaultConfigurable.html#configure(gov.usgs.util.Config)">DefaultConfigurable</a></code></span></div>
<div class="block">Process configuration settings.

 Called before startup().</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../util/Configurable.html#configure(gov.usgs.util.Config)">configure</a></code>&nbsp;in interface&nbsp;<code><a href="../../util/Configurable.html" title="interface in gov.usgs.util">Configurable</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../util/DefaultConfigurable.html#configure(gov.usgs.util.Config)">configure</a></code>&nbsp;in class&nbsp;<code><a href="../../util/DefaultConfigurable.html" title="class in gov.usgs.util">DefaultConfigurable</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>config</code> - the Config object with settings.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if configuration exceptions occur.</dd>
</dl>
</li>
</ul>
<a id="connect()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connect</h4>
<pre class="methodSignature">protected&nbsp;java.sql.Connection&nbsp;connect()
                               throws java.lang.Exception</pre>
<div class="block">Connect to database.

 Implements abstract JDBCConnection method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../util/JDBCConnection.html#connect()">connect</a></code>&nbsp;in class&nbsp;<code><a href="../util/JDBCConnection.html" title="class in gov.usgs.earthquake.util">JDBCConnection</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the connection.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if unable to connect.</dd>
</dl>
</li>
</ul>
<a id="startup()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startup</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;startup()
             throws java.lang.Exception</pre>
<div class="block">After normal startup, check whether schema exists and attempt to create.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../util/Configurable.html#startup()">startup</a></code>&nbsp;in interface&nbsp;<code><a href="../../util/Configurable.html" title="interface in gov.usgs.util">Configurable</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../util/JDBCConnection.html#startup()">startup</a></code>&nbsp;in class&nbsp;<code><a href="../util/JDBCConnection.html" title="class in gov.usgs.earthquake.util">JDBCConnection</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if exceptions occur while starting.</dd>
</dl>
</li>
</ul>
<a id="schemaExists()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>schemaExists</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;schemaExists()
                     throws java.lang.Exception</pre>
<div class="block">Check whether schema exists.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a id="createSchema()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createSchema</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;createSchema()
                  throws java.lang.Exception</pre>
<div class="block">Attempt to create schema.

 Only supports sqlite or mysql.  When not using sqlite, relying on this
 method is only recommended for local development.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a id="hasProduct(gov.usgs.earthquake.product.ProductId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasProduct</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;hasProduct&#8203;(<a href="../product/ProductId.html" title="class in gov.usgs.earthquake.product">ProductId</a>&nbsp;id)
                   throws java.lang.Exception</pre>
<div class="block">Check whether product found in storage.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../distribution/ProductStorage.html#hasProduct(gov.usgs.earthquake.product.ProductId)">hasProduct</a></code>&nbsp;in interface&nbsp;<code><a href="../distribution/ProductStorage.html" title="interface in gov.usgs.earthquake.distribution">ProductStorage</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the product to check.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the product is in this storage, false otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if an error occurs while checking.</dd>
</dl>
</li>
</ul>
<a id="getProduct(gov.usgs.earthquake.product.ProductId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProduct</h4>
<pre class="methodSignature">public&nbsp;<a href="../product/Product.html" title="class in gov.usgs.earthquake.product">Product</a>&nbsp;getProduct&#8203;(<a href="../product/ProductId.html" title="class in gov.usgs.earthquake.product">ProductId</a>&nbsp;id)
                   throws java.lang.Exception</pre>
<div class="block">Get a product from storage.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../distribution/ProductStorage.html#getProduct(gov.usgs.earthquake.product.ProductId)">getProduct</a></code>&nbsp;in interface&nbsp;<code><a href="../distribution/ProductStorage.html" title="interface in gov.usgs.earthquake.distribution">ProductStorage</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The product to get.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>product if found, otherwise null.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if errors occur while retrieving product.</dd>
</dl>
</li>
</ul>
<a id="storeProduct(gov.usgs.earthquake.product.Product)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeProduct</h4>
<pre class="methodSignature">public&nbsp;<a href="../product/ProductId.html" title="class in gov.usgs.earthquake.product">ProductId</a>&nbsp;storeProduct&#8203;(<a href="../product/Product.html" title="class in gov.usgs.earthquake.product">Product</a>&nbsp;product)
                       throws java.lang.Exception</pre>
<div class="block">Add product to storage.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../distribution/ProductStorage.html#storeProduct(gov.usgs.earthquake.product.Product)">storeProduct</a></code>&nbsp;in interface&nbsp;<code><a href="../distribution/ProductStorage.html" title="interface in gov.usgs.earthquake.distribution">ProductStorage</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>product</code> - the product to store.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the stored product's id.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../distribution/ProductAlreadyInStorageException.html" title="class in gov.usgs.earthquake.distribution">ProductAlreadyInStorageException</a></code> - if product already in storage.</dd>
<dd><code>java.lang.Exception</code> - if errors occur while storing product.</dd>
</dl>
</li>
</ul>
<a id="getProductSource(gov.usgs.earthquake.product.ProductId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProductSource</h4>
<pre class="methodSignature">public&nbsp;<a href="../product/io/ProductSource.html" title="interface in gov.usgs.earthquake.product.io">ProductSource</a>&nbsp;getProductSource&#8203;(<a href="../product/ProductId.html" title="class in gov.usgs.earthquake.product">ProductId</a>&nbsp;id)
                               throws java.lang.Exception</pre>
<div class="block">Get a ProductSource for product in database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../distribution/ProductStorage.html#getProductSource(gov.usgs.earthquake.product.ProductId)">getProductSource</a></code>&nbsp;in interface&nbsp;<code><a href="../distribution/ProductStorage.html" title="interface in gov.usgs.earthquake.distribution">ProductStorage</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - which product to retrieve.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ObjectProductSource or null if product not found.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if any errors occur while getting the ProductInput.</dd>
</dl>
</li>
</ul>
<a id="storeProductSource(gov.usgs.earthquake.product.io.ProductSource)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeProductSource</h4>
<pre class="methodSignature">public&nbsp;<a href="../product/ProductId.html" title="class in gov.usgs.earthquake.product">ProductId</a>&nbsp;storeProductSource&#8203;(<a href="../product/io/ProductSource.html" title="interface in gov.usgs.earthquake.product.io">ProductSource</a>&nbsp;input)
                             throws java.lang.Exception</pre>
<div class="block">Store a ProductSource.

 Uses ObjectProductHandler to read Product, then calls storeProduct.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../distribution/ProductStorage.html#storeProductSource(gov.usgs.earthquake.product.io.ProductSource)">storeProductSource</a></code>&nbsp;in interface&nbsp;<code><a href="../distribution/ProductStorage.html" title="interface in gov.usgs.earthquake.distribution">ProductStorage</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - the product to store.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the stored product's id.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../distribution/ProductAlreadyInStorageException.html" title="class in gov.usgs.earthquake.distribution">ProductAlreadyInStorageException</a></code> - if product already in storage.</dd>
<dd><code>java.lang.Exception</code> - if errors occur while storing product.</dd>
</dl>
</li>
</ul>
<a id="removeProduct(gov.usgs.earthquake.product.ProductId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeProduct</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeProduct&#8203;(<a href="../product/ProductId.html" title="class in gov.usgs.earthquake.product">ProductId</a>&nbsp;id)
                   throws java.lang.Exception</pre>
<div class="block">Remove product from storage.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../distribution/ProductStorage.html#removeProduct(gov.usgs.earthquake.product.ProductId)">removeProduct</a></code>&nbsp;in interface&nbsp;<code><a href="../distribution/ProductStorage.html" title="interface in gov.usgs.earthquake.distribution">ProductStorage</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - which product to remove.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if errors occur while removing product.</dd>
</dl>
</li>
</ul>
<a id="notifyListeners(gov.usgs.earthquake.distribution.StorageEvent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notifyListeners</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;notifyListeners&#8203;(<a href="../distribution/StorageEvent.html" title="class in gov.usgs.earthquake.distribution">StorageEvent</a>&nbsp;event)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../distribution/ProductStorage.html#notifyListeners(gov.usgs.earthquake.distribution.StorageEvent)">ProductStorage</a></code></span></div>
<div class="block">Notifies <code>StorageListener</code>s of the change to the
 <code>ProductStorage</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../distribution/ProductStorage.html#notifyListeners(gov.usgs.earthquake.distribution.StorageEvent)">notifyListeners</a></code>&nbsp;in interface&nbsp;<code><a href="../distribution/ProductStorage.html" title="interface in gov.usgs.earthquake.distribution">ProductStorage</a></code></dd>
</dl>
</li>
</ul>
<a id="addStorageListener(gov.usgs.earthquake.distribution.StorageListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addStorageListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addStorageListener&#8203;(<a href="../distribution/StorageListener.html" title="interface in gov.usgs.earthquake.distribution">StorageListener</a>&nbsp;listener)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../distribution/ProductStorage.html#addStorageListener(gov.usgs.earthquake.distribution.StorageListener)">ProductStorage</a></code></span></div>
<div class="block">Adds a <code>StorageListener</code> to be notified when a change occurs
 in this <code>ProductStorage</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../distribution/ProductStorage.html#addStorageListener(gov.usgs.earthquake.distribution.StorageListener)">addStorageListener</a></code>&nbsp;in interface&nbsp;<code><a href="../distribution/ProductStorage.html" title="interface in gov.usgs.earthquake.distribution">ProductStorage</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - The listener to notify of changes.</dd>
</dl>
</li>
</ul>
<a id="removeStorageListener(gov.usgs.earthquake.distribution.StorageListener)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>removeStorageListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeStorageListener&#8203;(<a href="../distribution/StorageListener.html" title="interface in gov.usgs.earthquake.distribution">StorageListener</a>&nbsp;listener)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../distribution/ProductStorage.html#removeStorageListener(gov.usgs.earthquake.distribution.StorageListener)">ProductStorage</a></code></span></div>
<div class="block">Removes a <code>StorageListener</code> from being notified when a change
 occurs in this <code>ProductStorage</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../distribution/ProductStorage.html#removeStorageListener(gov.usgs.earthquake.distribution.StorageListener)">removeStorageListener</a></code>&nbsp;in interface&nbsp;<code><a href="../distribution/ProductStorage.html" title="interface in gov.usgs.earthquake.distribution">ProductStorage</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - The listener to remove</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
